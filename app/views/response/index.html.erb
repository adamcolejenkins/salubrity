<div class="fs-form-wrap" id="fs-form-wrap">
  <!-- Title & logo -->
  <div class="fs-title">
    <h1><%= @survey.title %></h1>
  </div>
  <!-- Form -->
  <form id="myForm" class="fs-form fs-form-full" autocomplete="off">
    <ol class="fs-fields">
      <% @survey.fields.each do |field| %>
        <% if field.visibility === 'public' %>
          <li>
            <label
              class="fs-field-label fs-anim-upper"
              for="<%= field.field_type %>-<%= field.id %>"
              data-info="<%= field.instructions %>"><%= field.label %></label>
            
            <%= render partial: "templates/fields/view/#{field.field_type}", locals: { :field => field } %>

          </li>
        <% end %>
      <% end %>
    </ol><!-- /fs-fields -->
    <button class="fs-submit" type="submit">Submit answers</button>
  </form>
</div>

<script>
  (function() {
    var formWrap = document.getElementById( 'fs-form-wrap' );

    // [].slice.call( document.querySelectorAll( 'select.cs-select' ) ).forEach( function(el) {  
    //   new SelectFx( el, {
    //     stickyPlaceholder: false,
    //     onChange: function(val){
    //       document.querySelector('span.cs-placeholder').style.backgroundColor = val;
    //     }
    //   });
    // } );

    new FForm( formWrap, {
      onReview : function() {
        classie.add( document.body, 'overview' ); // for demo purposes only
      }
    } );
  })();
</script>